<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JSON Table Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            background: #fff;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        th {
            background: #eee;
        }
    </style>
</head>
<body>

<h2>JSON Data Table</h2>
<table id="dataTable">
    <thead>
        <tr id="tableHeader"></tr>
    </thead>
    <tbody id="tableBody"></tbody>
</table>

<script>
fetch('data.json')
    .then(response => {
        if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
        }
        return response.json();
    })
    .then(data => {
        if (!Array.isArray(data)) {
            data = [data]; // wrap single object into array
        }

        // Get table header keys
        const keys = Object.keys(data[0]);
        const headerRow = document.getElementById('tableHeader');
        keys.forEach(key => {
            const th = document.createElement('th');
            th.textContent = key;
            headerRow.appendChild(th);
        });

        // Fill table rows
        const tableBody = document.getElementById('tableBody');
        data.forEach(item => {
            const row = document.createElement('tr');
            keys.forEach(key => {
                const td = document.createElement('td');
                td.textContent = typeof item[key] === 'object' ? JSON.stringify(item[key]) : item[key];
                row.appendChild(td);
            });
            tableBody.appendChild(row);
        });
    })
    .catch(error => {
        document.body.innerHTML += `<p style="color:red">Error loading JSON: ${error}</p>`;
    });
</script>

</body>
</html>
